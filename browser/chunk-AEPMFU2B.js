import{c as V,l as G,n as F,q as j,r as M}from"./chunk-HD4ISDNJ.js";import{C as p,E as m,J as R,K as E,L as x,P as N,Q as _,S as $,Sa as U,U as k,X as T,_ as P,a as l,l as A,na as h,o as D,oa as g,qa as f,sa as s,ta as v,za as y}from"./chunk-7JXHIXKM.js";var nt={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},I="__@ngrx/effects_create__";function Bt(t,e={}){let o=e.functional?t:t(),n=l(l({},nt),e);return Object.defineProperty(o,I,{value:n}),o}function rt(t){return Object.getOwnPropertyNames(t).filter(n=>t[n]&&t[n].hasOwnProperty(I)?t[n][I].hasOwnProperty("dispatch"):!1).map(n=>{let r=t[n][I];return l({propertyName:n},r)})}function ot(t){return rt(t)}function K(t){return Object.getPrototypeOf(t)}function st(t){return!!t.constructor&&t.constructor.name!=="Object"&&t.constructor.name!=="Function"}function L(t){return typeof t=="function"}function H(t){return t.filter(L)}function it(t){return t instanceof f||L(t)}function ct(t,e,o){let n=K(t),c=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,i=ot(t).map(({propertyName:u,dispatch:a,useEffectsErrorHandler:C})=>{let d=typeof t[u]=="function"?t[u]():t[u],w=C?o(d,e):d;return a===!1?w.pipe(_()):w.pipe(P()).pipe(p(et=>({effect:t[u],notification:et,propertyName:u,sourceName:c,sourceInstance:t})))});return R(...i)}var ft=10;function Y(t,e,o=ft){return t.pipe(x(n=>(e&&e.handleError(n),o<=1?t:Y(t,e,o-1))))}var zt=(()=>{let e=class e extends A{constructor(n){super(),n&&(this.source=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}};e.\u0275fac=function(r){return new(r||e)(s(G))},e.\u0275prov=h({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Kt(...t){return E(e=>t.some(o=>typeof o=="string"?o===e.type:o.type===e.type))}var J=new f("@ngrx/effects Internal Root Guard"),S=new f("@ngrx/effects User Provided Effects"),O=new f("@ngrx/effects Internal Root Effects"),X=new f("@ngrx/effects Internal Root Effects Instances"),B=new f("@ngrx/effects Internal Feature Effects"),Z=new f("@ngrx/effects Internal Feature Effects Instance Groups"),ut=new f("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Y}),q="@ngrx/effects/init",Lt=V(q);function at(t,e){if(t.notification.kind==="N"){let o=t.notification.value;!dt(o)&&e.handleError(new Error(`Effect ${lt(t)} dispatched an invalid action: ${pt(o)}`))}}function dt(t){return typeof t!="function"&&t&&t.type&&typeof t.type=="string"}function lt({propertyName:t,sourceInstance:e,sourceName:o}){let n=typeof e[t]=="function";return!!o?`"${o}.${String(t)}${n?"()":""}"`:`"${String(t)}()"`}function pt(t){try{return JSON.stringify(t)}catch{return t}}var Et="ngrxOnIdentifyEffects";function ht(t){return b(t,Et)}var gt="ngrxOnRunEffects";function vt(t){return b(t,gt)}var yt="ngrxOnInitEffects";function Ft(t){return b(t,yt)}function b(t,e){return t&&e in t&&typeof t[e]=="function"}var Q=(()=>{let e=class e extends D{constructor(n,r){super(),this.errorHandler=n,this.effectsErrorHandler=r}addEffects(n){this.next(n)}toActions(){return this.pipe(T(n=>st(n)?K(n):n),m(n=>n.pipe(T(St))),m(n=>{let r=n.pipe(k(i=>It(this.errorHandler,this.effectsErrorHandler)(i)),p(i=>(at(i,this.errorHandler),i.notification)),E(i=>i.kind==="N"&&i.value!=null),$()),c=n.pipe(N(1),E(Ft),p(i=>i.ngrxOnInitEffects()));return R(r,c)}))}};e.\u0275fac=function(r){return new(r||e)(s(U),s(ut))},e.\u0275prov=h({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function St(t){return ht(t)?t.ngrxOnIdentifyEffects():""}function It(t,e){return o=>{let n=ct(o,t,e);return vt(o)?o.ngrxOnRunEffects(n):n}}var W=(()=>{let e=class e{get isStarted(){return!!this.effectsSubscription}constructor(n,r){this.effectSources=n,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(s(Q),s(F))},e.\u0275prov=h({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tt=(()=>{let e=class e{constructor(n,r,c,i,u,a,C){this.sources=n,r.start();for(let d of i)n.addEffects(d);c.dispatch({type:q})}addEffects(n){this.sources.addEffects(n)}};e.\u0275fac=function(r){return new(r||e)(s(Q),s(W),s(F),s(X),s(j,8),s(M,8),s(J,8))},e.\u0275mod=y({type:e}),e.\u0275inj=g({});let t=e;return t})(),mt=(()=>{let e=class e{constructor(n,r,c,i){let u=r.flat();for(let a of u)n.addEffects(a)}};e.\u0275fac=function(r){return new(r||e)(s(tt),s(Z),s(j,8),s(M,8))},e.\u0275mod=y({type:e}),e.\u0275inj=g({});let t=e;return t})(),Yt=(()=>{let e=class e{static forFeature(...n){let r=n.flat(),c=H(r);return{ngModule:mt,providers:[c,{provide:B,multi:!0,useValue:r},{provide:S,multi:!0,useValue:[]},{provide:Z,multi:!0,useFactory:z,deps:[B,S]}]}}static forRoot(...n){let r=n.flat(),c=H(r);return{ngModule:tt,providers:[c,{provide:O,useValue:[r]},{provide:J,useFactory:Rt},{provide:S,multi:!0,useValue:[]},{provide:X,useFactory:z,deps:[O,S]}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=y({type:e}),e.\u0275inj=g({});let t=e;return t})();function z(t,e){let o=[];for(let n of t)o.push(...n);for(let n of e)o.push(...n);return o.map(n=>it(n)?v(n):n)}function Rt(){let t=v(W,{optional:!0,skipSelf:!0}),e=v(O,{self:!0});if(!(e.length===1&&e[0].length===0)&&t)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}export{Bt as a,zt as b,Kt as c,Yt as d};
